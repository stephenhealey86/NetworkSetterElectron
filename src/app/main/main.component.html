<div id="app-background" class="d-flex justify-content-around">
    <div id="form-frame">
      <tabset>
        <tab *ngFor="let tab of tabs; let i = index;"
              [active]="tab.active"
              (selectTab)="tab.active = true"
              (deselect)="tab.active = false"
              [removable]="true"
              (removed)="removeTabHandler(tab)">
              <ng-template tabHeading>
              <span tooltip="{{tab.name}}">{{tab.name | slice:0:10}}</span>
              </ng-template>
              <form class="d-flex flex-column" #settingsForm="ngForm">
                <div class="form-group mx-5">
                  <label for="name">Name</label>
                  <input (focus)="onNameTextFocus($event)" type="text" class="form-control" #name="ngModel" name="name{{i}}" [(ngModel)]="tab.name" required minlength="3">
                  <div *ngIf="name.invalid && (name.dirty || name.touched)"
                  class="alert alert-danger">
                  <div *ngIf="name.errors.minlength">
                    Name must be at least 3 characters long.
                  </div>
                </div>
                </div>
                <div class="form-group mx-5">
                  <label for="name">Interface</label>
                  <select #interface="ngModel" name="interface{{i}}" [(ngModel)]="tab.interface" class="form-control" required>
                    <option value="" selected disabled hidden>Select interface</option>
                    <option  *ngFor="let interface of interfaceAdaptersList">{{interface}}</option>
                  </select>
                  <div *ngIf="interface.invalid && (interface.dirty || interface.touched)"
                  class="alert alert-danger">
                  <div *ngIf="interface.errors.required">
                    You must select an interface.
                  </div>
                </div>
                </div>
                <div class="form-group mx-5">
                  <label for="name">IP Address</label>
                  <input (keydown)="onIpKeyDown($event)" (keyup)="onIpTextChanged($event)" (focus)="highlightFirstSectionOfIpAddress($event)" type="text"
                          class="form-control" #ipAddress="ngModel" name="ipAddress{{i}}" [(ngModel)]="tab.ipAddress" required
                          pattern="\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b">
                  <div *ngIf="ipAddress.invalid && (ipAddress.dirty || ipAddress.touched)"
                  class="alert alert-danger">
                  <div *ngIf="ipAddress.errors.pattern">
                    IP address must be valid format.
                  </div>
                </div>
                </div>
                <div class="form-group mx-5">
                  <label for="name">Subnet</label>
                  <input (keydown)="onIpKeyDown($event)" (keyup)="onIpTextChanged($event)" (focus)="highlightFirstSectionOfIpAddress($event)" type="text"
                          class="form-control" #subnet="ngModel" name="subnet{{i}}" [(ngModel)]="tab.subnet" required
                          pattern="\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b">
                  <div *ngIf="subnet.invalid && (subnet.dirty || subnet.touched)"
                  class="alert alert-danger">
                  <div *ngIf="subnet.errors.pattern">
                    Subnet must be valid format.
                  </div>
                </div>
                </div>
                <div class="form-group mx-5">
                  <label for="name">Gateway</label>
                  <input (keydown)="onIpKeyDown($event)" (keyup)="onIpTextChanged($event)" (focus)="highlightFirstSectionOfIpAddress($event)" type="text"
                          class="form-control" #gateway="ngModel" name="gateway{{i}}" [(ngModel)]="tab.gateway" required
                          pattern="\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b">
                  <div *ngIf="gateway.invalid && (gateway.dirty || gateway.touched)"
                  class="alert alert-danger">
                  <div *ngIf="gateway.errors.pattern">
                    Gateway must be valid format.
                  </div>
                </div>
                </div>
                <div class="d-flex justify-content-around">
                    <button class="btn btn-primary" (click)="setStatic()" [disabled]="settingsForm.form.invalid">Static</button>
                    <button class="btn btn-info" (click)="setDHCP()" [disabled]="interface.invalid">DHCP</button>
                </div>
            </form>
          </tab>
      </tabset>
    </div>
</div>
<div class="hideScreen" [hidden]="hideScreen"></div>
